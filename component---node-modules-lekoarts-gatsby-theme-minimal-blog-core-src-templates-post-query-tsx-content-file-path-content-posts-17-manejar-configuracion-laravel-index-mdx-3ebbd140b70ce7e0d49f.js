"use strict";(self.webpackChunkminimal_blog=self.webpackChunkminimal_blog||[]).push([[228],{8585:function(e,n,a){a.r(n),a.d(n,{Head:function(){return o.p},default:function(){return i}});var l=a(6540),t=a(8453);function c(e){const n=Object.assign({span:"span",p:"p",code:"code",h3:"h3",ol:"ol",li:"li",strong:"strong",hr:"hr",pre:"pre"},(0,t.RP)(),e.components);return l.createElement(l.Fragment,null,l.createElement(n.span,{dangerouslySetInnerHTML:{__html:'<span\n      class="gatsby-resp-image-wrapper"\n      style="position: relative; display: block; margin-left: auto; margin-right: auto; max-width: 960px; "\n    >\n      <span\n    class="gatsby-resp-image-background-image"\n    style="padding-bottom: 66.66666666666666%; position: relative; bottom: 0; left: 0; background-image: url(\'data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAABQAAAANCAIAAAAmMtkJAAAACXBIWXMAAAsTAAALEwEAmpwYAAAC4ElEQVR42mPoOvSj68jvzmP/2w79adn/s2H395odXyq3fCrb+KFo7dv8Va9zVrzMXPI8dcGTpLmP4mY9iJ5+N2LKneDeq35tZxm6jv1P6dthF1FoH1VuHV4CRFZhxRahRebBhUBkGlhg5Jdr4Jur752t65mt45Gp7Z6l5phokzbHu+0CQ+fR/375E9T1TLXMXdUMbWXUjUUUdUQVdUXkgaSeqIKukKy2kKyWoIyWABBJawrIaHMLy+v4lnu2XmBo3v8rsGiqtVuQuWe0pqWnrI61tKaVtJa1tJaVlIaVpLqlhLqFuJqFmKq5KBCpmImoWAjI6Gj7VrnWn2ao2/XVJ7ff1N7bzCNCw8xLxcgJiID6JdTMxdXMxFXNxFRMRZVNRZRMhIFI0VhI0YRPSkvDs9Sh6jhD9dbP7hldynpWWtZeykZOCnp2QCSpYQHShqwTpM1YSMEIpFlSU9W92KbsCEPZxvcemT1Gtp423jHGTkHaVl4KBg7iKqYIO5VNoJoVjAXljQQVjHklNZVdCi2KDjIA48M5pQMYVPq2fjqWntrWPqomLhJqZqLKJqIqSK5VMALqFJAz5Jc35pHQUHQqMMnfx5C36pVjYhtQs56dn66Nj6aFh4aFh7qZm6SGJbJroTplDflkjXjENeQd8gyy9zBkLX1un9Aqr2WuYuyqZuqmZeGhZOwqpgb0s7mwkqmwognYtcYC8kb8ckCdIM3c4hqydrk6aTsZ0hc9tYlpVNY11zJz0zB3k9K0FFcxEZDTBcYHEPFLa/NJa/NKafNIavFIaHGLa3JLaLMLKUhZpWsmb2NImnPfKWOKuk2otmOMun2UnFmwnEmAvGmgrHGAjJG/tKGfpIGvhJ6vuK6PmI63iLaXsLa3oJqzjFOVSvxGhujJV4Paj3lUbnEtXe9UtNapcK19/mrrnJWWmcvN0peapCwxTFykF7dAJ2aeZuQc9fBZKiEzlYJnKoYtlo9YDQAmWtygdVFZqAAAAABJRU5ErkJggg==\'); background-size: cover; display: block;"\n  ></span>\n  <img\n        class="gatsby-resp-image-image"\n        alt="Configuración en Laravel banner"\n        title="Configuración en Laravel"\n        src="/static/c2fb7d8a3347f39d58a860af3fa70735/7d769/configuracion-laravel-banner.png"\n        srcset="/static/c2fb7d8a3347f39d58a860af3fa70735/5243c/configuracion-laravel-banner.png 240w,\n/static/c2fb7d8a3347f39d58a860af3fa70735/ab158/configuracion-laravel-banner.png 480w,\n/static/c2fb7d8a3347f39d58a860af3fa70735/7d769/configuracion-laravel-banner.png 960w,\n/static/c2fb7d8a3347f39d58a860af3fa70735/87339/configuracion-laravel-banner.png 1440w,\n/static/c2fb7d8a3347f39d58a860af3fa70735/88b03/configuracion-laravel-banner.png 1920w,\n/static/c2fb7d8a3347f39d58a860af3fa70735/84222/configuracion-laravel-banner.png 3352w"\n        sizes="(max-width: 960px) 100vw, 960px"\n        style="width:100%;height:100%;margin:0;vertical-align:middle;position:absolute;top:0;left:0;"\n        loading="lazy"\n        decoding="async"\n      />\n    </span>'}}),"\n",l.createElement(n.p,null,"Si has trabajado con Laravel, probablemente hayas usado ",l.createElement(n.code,null,"env()")," para obtener valores del archivo ",l.createElement(n.code,null,".env"),". También es probable que hayas visto ",l.createElement(n.code,null,"config()")," en acción. Pero, ¿sabes cuándo usar cada uno? Elegir incorrectamente puede causar problemas inesperados, especialmente en producción."),"\n",l.createElement(n.h3,null,"¿Por qué no deberías usar ",l.createElement(n.code,null,"env()")," directamente?"),"\n",l.createElement(n.ol,null,"\n",l.createElement(n.li,null,"\n",l.createElement(n.p,null,l.createElement(n.strong,null,"Los valores de ",l.createElement(n.code,null,".env")," pueden ser reemplazados en producción"),"\nEntornos como Docker, pipelines de CI/CD o servidores específicos pueden establecer variables de entorno a nivel del sistema que sobrescriban las claves de tu archivo ",l.createElement(n.code,null,".env"),". Esto fue exactamente lo que me pasó: mi clave de API fue reemplazada por una variable externa, y mi aplicación nunca detectó el valor correcto. En lugar de eso, estaba recibiendo ",l.createElement(n.code,null,"null"),"."),"\n"),"\n",l.createElement(n.li,null,"\n",l.createElement(n.p,null,l.createElement(n.strong,null,"Laravel almacena en caché la configuración, no ",l.createElement(n.code,null,".env")),"\nCuando ejecutas ",l.createElement(n.code,null,"php artisan config:cache")," o cuando el entorno (",l.createElement(n.code,null,"APP_ENV"),") está configurado como producción, Laravel carga todos los valores de configuración una vez y los guarda en un archivo de caché. Después de eso, Laravel ya no revisa el archivo ",l.createElement(n.code,null,".env")," hasta que limpias la caché."),"\n",l.createElement(n.p,null,"Por ejemplo, si usas ",l.createElement(n.code,null,"env('API_KEY')")," en tu código y luego actualizas el archivo ",l.createElement(n.code,null,".env"),", tu aplicación no verá el nuevo valor hasta que limpies la caché de configuración."),"\n"),"\n",l.createElement(n.li,null,"\n",l.createElement(n.p,null,l.createElement(n.strong,null,"Difícil de mantener y depurar"),"\nImagina que necesitas cambiar el nombre de una clave y ",l.createElement(n.code,null,"env('API_KEY')")," está esparcido por todo tu código. Ahora tendrás que buscar y actualizar manualmente cada instancia. Peor aún, si algo deja de funcionar, estarás buscando en todo el proyecto para entender por qué el valor no se está leyendo correctamente."),"\n"),"\n"),"\n",l.createElement(n.hr),"\n",l.createElement(n.h3,null,"La forma correcta: Usa ",l.createElement(n.code,null,"config()")),"\n",l.createElement(n.p,null,"La forma adecuada de manejar tu configuración puede ahorrarte mucha frustración. En lugar de llamar a ",l.createElement(n.code,null,"env()")," en tu código, almacena todos los valores dependientes del entorno en los archivos de configuración de Laravel."),"\n",l.createElement(n.p,null,"Aquí te explico cómo hacerlo:"),"\n",l.createElement(n.ol,null,"\n",l.createElement(n.li,null,"\n",l.createElement(n.p,null,"Crea un archivo de configuración (o actualiza uno existente) en la carpeta ",l.createElement(n.code,null,"config")," y usa ",l.createElement(n.code,null,"env()")," aquí. Como estaba integrando una ",l.createElement(n.strong,null,"API")," de mensajería, creé un archivo ",l.createElement(n.code,null,"config/messaging.php"),":"),"\n",l.createElement(n.pre,null,l.createElement(n.code,{className:"language-php"},"return [\n    'api_key' => env('MESSAGING_API_KEY'),\n    'webhook_secret' => env('MESSAGING_WEBHOOK_SECRET'),\n];\n")),"\n"),"\n",l.createElement(n.li,null,"\n",l.createElement(n.p,null,"Guarda los valores en tu archivo ",l.createElement(n.code,null,".env"),":"),"\n",l.createElement(n.pre,null,l.createElement(n.code,null,"MESSAGING_API_KEY=tu_clave_de_api\nMESSAGING_WEBHOOK_SECRET=tu_secreto_webhook\n")),"\n"),"\n",l.createElement(n.li,null,"\n",l.createElement(n.p,null,"Ahora, usa ",l.createElement(n.code,null,"config()")," en lugar de ",l.createElement(n.code,null,"env()")," en tu código:"),"\n",l.createElement(n.pre,null,l.createElement(n.code,{className:"language-php"},"$apiKey = config('messaging.api_key');\n$webhookSecret = config('messaging.webhook_secret');\n")),"\n"),"\n",l.createElement(n.li,null,"\n",l.createElement(n.p,null,"Si cambias algún valor en ",l.createElement(n.code,null,".env"),", limpia la caché de configuración:"),"\n",l.createElement(n.pre,null,l.createElement(n.code,{className:"language-bash"},"php artisan config:clear\n")),"\n",l.createElement(n.p,null,"Si necesitas renombrar una clave, no tendrás que actualizar muchos archivos. Solo modifica ",l.createElement(n.code,null,"config/messaging.php")," y limpia la caché."),"\n"),"\n"),"\n",l.createElement(n.p,null,"Usar ",l.createElement(n.code,null,"config()")," en lugar de ",l.createElement(n.code,null,"env()")," no solo hace que tu aplicación sea más robusta y fácil de mantener, sino que también evita sorpresas al desplegar en producción. Este pequeño cambio puede ahorrarte horas de ",l.createElement(n.strong,null,"debugging")," y asegurarte de que tu aplicación funcione correctamente en todos los entornos."))}var r=function(e){void 0===e&&(e={});const{wrapper:n}=Object.assign({},(0,t.RP)(),e.components);return n?l.createElement(n,e,l.createElement(c,e)):c(e)},o=a(7292);function i(e){return l.createElement(o.A,e,l.createElement(r,e))}o.A}}]);
//# sourceMappingURL=component---node-modules-lekoarts-gatsby-theme-minimal-blog-core-src-templates-post-query-tsx-content-file-path-content-posts-17-manejar-configuracion-laravel-index-mdx-3ebbd140b70ce7e0d49f.js.map